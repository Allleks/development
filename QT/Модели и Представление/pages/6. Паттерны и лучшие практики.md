## [[MVC vs MVP + MVVM в контексте Qt]]
___
**Не заморачивайтесь с теорией.** В Qt паттерны смешаны:
- Есть **наблюдатель** (сигналы/слоты)
- Есть **посредник** ([[Presenter|Presenter/Controller]])
- Есть **адаптер** ([[Модель|модели]] для view)
___
**Просто помните:**
1. [[Представление|View]] должен быть максимально "тупым" + для гибкости [[Делегаты]] 
2. Бизнес-логика в [[Presenter|контроллерах/презентерах]]
3. [[Модель|Модели]] только данные и уведомления
___
**Используйте де-факто Qt подход:**
- Ваш `MainWindow`/`QDialog` = **Controller+Presenter**
- `QAbstractItemModel` наследники = **Model**
- `QTableView`/`QTreeView` = **View**
___
### Proxy модели для:
- **Сортировки**: `QSortFilterProxyModel`
- **Фильтрации**: `QSortFilterProxyModel`
- **Группировки**: Своя proxy-модель
- **Кеширования**: Локальная proxy-модель
___
### Оптимизации:
```cpp
// 1. Ленивая загрузка
bool canFetchMore() const;
void fetchMore();

// 2. Кеширование данных
QVariant cachedData(const QModelIndex &index) const;
void setCachedData(const QModelIndex &index, const QVariant &data);

// 3. Батчинг изменений
void beginBatchUpdate();
void endBatchUpdate();

// 4. Виртуальные таблицы (для больших данных)
bool hasChildren(const QModelIndex &parent) const override;
```
---