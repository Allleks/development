
```cpp
class SafeTableModel : public QAbstractTableModel
{
    Q_OBJECT
    
public:
    QVariant data(const QModelIndex &index, int role) const override
    {
        try {
            // Проверка индекса
            if (!checkIndex(index))
                return QVariant();
                
            // Бизнес-логика
            return internalGetData(index, role);
            
        } catch (const std::exception &e) {
            qCritical() << "Model error:" << e.what();
            
            // Возвращаем безопасное значение
            if (role == Qt::DisplayRole)
                return tr("Error loading data");
                
            return QVariant();
        }
    }
    
private:
    bool checkIndex(const QModelIndex &index) const
    {
        return index.isValid() 
            && index.row() < rowCount()
            && index.column() < columnCount()
            && index.row() >= 0
            && index.column() >= 0;
    }
};
```