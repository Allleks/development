## üîß –ë—ã—Å—Ç—Ä—ã–µ –º–µ—Ç–æ–¥—ã

### **1. –§–ª–∞–≥ –¥–ª—è —è—á–µ–π–∫–∏**
```cpp
item->setFlags(item->flags() & ~Qt::ItemIsEditable);  // READ-ONLY
item->setFlags(item->flags() | Qt::ItemIsEditable);   // EDITABLE
```
### **2. –í—Å—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º–∞**
```cpp
table->setEditTriggers(QAbstractItemView::NoEditTriggers);
```
### **3. –°–¥–µ–ª–∞—Ç—å —Å—Ç–æ–ª–±–µ—Ü read-only**
```cpp
for(int row = 0; row < table->rowCount(); ++row) {
    QTableWidgetItem* item = table->item(row, column);
    if(item) item->setFlags(item->flags() & ~Qt::ItemIsEditable);
}
```
___
## üèóÔ∏è –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### **4. –î–µ–ª–µ–≥–∞—Ç –¥–ª—è read-only**
```cpp
class ReadOnlyDelegate : public QStyledItemDelegate {
    QWidget* createEditor(...) const override { return nullptr; }
};
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
table->setItemDelegate(new ReadOnlyDelegate());
table->setItemDelegateForColumn(0, new ReadOnlyDelegate());
```
### **5. –§–∞–±—Ä–∏–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**
```cpp
namespace TableItemFactory {
    QTableWidgetItem* createReadOnly(const QString& text) {
        auto* item = new QTableWidgetItem(text);
        item->setFlags(item->flags() & ~Qt::ItemIsEditable);
        item->setBackground(QColor(240,240,240));
        return item;
    }
}
```
### **6. –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è**
```cpp
item->setBackground(QBrush(QColor(240, 240, 240)));  // –°–µ—Ä—ã–π —Ñ–æ–Ω
item->setToolTip("–ù–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è");                // –ü–æ–¥—Å–∫–∞–∑–∫–∞
item->setIcon(QIcon(":/icons/lock.png"));            // –ò–∫–æ–Ω–∫–∞
```
___
## üéØ –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥

```cpp
void setupProtectedTable(QTableWidget* table) {
    // –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    table->setEditTriggers(QAbstractItemView::NoEditTriggers);
    
    // –î–µ–ª–µ–≥–∞—Ç –¥–ª—è –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
    table->setItemDelegateForColumn(0, new ReadOnlyDelegate());
    
    // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    QObject::connect(checkBox, &QCheckBox::toggled, [table](bool enabled) {
        table->setEditTriggers(enabled ? 
            QAbstractItemView::AllEditTriggers : 
            QAbstractItemView::NoEditTriggers);
    });
}
```
## ‚ö° –ë—ã—Å—Ç—Ä—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```cpp
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
table->setEditTriggers(QAbstractItemView::NoEditTriggers);           // ‚ùå –ù–µ—Ç
table->setEditTriggers(QAbstractItemView::AllEditTriggers);          // ‚úÖ –í—Å–µ
table->setEditTriggers(QAbstractItemView::DoubleClicked);            // üìù –î–∞–±–ª-–∫–ª–∏–∫
table->setEditTriggers(QAbstractItemView::EditKeyPressed);           // ‚å®Ô∏è F2/Enter
table->setEditTriggers(QAbstractItemView::AnyKeyPressed);            // üî† –õ—é–±–∞—è –∫–ª–∞–≤–∏—à–∞
```
___
# üìå –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã
### **–ü—Ä–∏–º–µ—Ä 1: –¢–∞–±–ª–∏—Ü–∞ —Å ID (read-only) –∏ –∏–º–µ–Ω–µ–º (editable)**
```cpp
// ID —Å—Ç–æ–ª–±–µ—Ü - –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è
QTableWidgetItem* idItem = new QTableWidgetItem(QString::number(id));
idItem->setFlags(idItem->flags() & ~Qt::ItemIsEditable);

// –ò–º—è —Å—Ç–æ–ª–±–µ—Ü - —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è
QTableWidgetItem* nameItem = new QTableWidgetItem(name);
nameItem->setFlags(nameItem->flags() | Qt::ItemIsEditable);
```
### **–ü—Ä–∏–º–µ—Ä 2: –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```cpp
void toggleTableEditing(QTableWidget* table, bool enable) {
    table->setEditTriggers(enable ? 
        QAbstractItemView::CurrentChanged | QAbstractItemView::DoubleClicked :
        QAbstractItemView::NoEditTriggers);
}
```
## üõ°Ô∏è Best Practices –¥–ª—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–µ–ª–µ–≥–∞—Ç—ã**¬†–¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
2. **–•—Ä–∞–Ω–∏—Ç–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**¬†–≤ UserRole:¬†`item->setData(Qt::UserRole, "read_only")`
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è**¬†–ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑¬†`itemChanged`¬†—Å–∏–≥–Ω–∞–ª
4. **–õ–æ–≥–∏—Ä—É–π—Ç–µ**¬†–∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–ª—è –∞—É–¥–∏—Ç–∞
5. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ**¬†—Å —Ä–∞–∑–Ω—ã–º–∏ input –º–µ—Ç–æ–¥–∞–º–∏ (–º—ã—à—å, –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, —Ç–∞—á)
---
**üí° –ü—Ä–æ—Å—Ç–æ–π –≤—ã–±–æ—Ä:**
- –ë—ã—Å—Ç—Ä–æ ‚Üí¬†`setEditTriggers(QAbstractItemView::NoEditTriggers)`
- –ì–∏–±–∫–æ ‚Üí –î–µ–ª–µ–≥–∞—Ç—ã
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ ‚Üí –ö–∞—Å—Ç–æ–º–Ω—ã–π QTableWidget + –¥–µ–ª–µ–≥–∞—Ç—ã