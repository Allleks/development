
## 1.¬†**Dependency Injection (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä)**
```cpp

Class(–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å* dep) : dep(dep) {}

// –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –æ–∫–æ–Ω-–±–ª–æ–∫–æ–≤
class AbstractBlockWindow : public QWidget {
    Q_OBJECT
protected:
    IRepository* repository;
    
public:
    explicit AbstractBlockWindow(IRepository* repo, QWidget* parent = nullptr) 
        : QWidget(parent), repository(repo) {}
    
    virtual void showExpressEditWindow() = 0;
};

// –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
class ConcreteBlock : public AbstractBlockWindow {
public:
    ConcreteBlock(IRepository* repo, QWidget* parent = nullptr) 
        : AbstractBlockWindow(repo, parent) {}
    
    void showExpressEditWindow() override {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º repository –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
        auto equipment = repository->getAvailableEquipment();
        // –°–æ–∑–¥–∞–µ–º –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Å repository
        auto editor = new ExpressEditWindow(repository, this);
        editor->show();
    }
};

// –í Operation_window
void Operation_window::addBlock() {
    auto block = new ConcreteBlock(this->repository, this);
    // ... –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ –≤ UI
}
```
**–ö–æ–≥–¥–∞:**¬†–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é. –î–ª—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏, —è–≤–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
 –µ—â–µ –•–û–†–û–®–ê–Ø –ø—Ä–∞–∫—Ç–∏–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ ¬†**Dependency Injection (–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)**¬†—á–µ—Ä–µ–∑ callback/—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã. –í–æ—Ç –ø–æ—á–µ–º—É —ç—Ç–æ —Ö–æ—Ä–æ—à–æ:
## 2.¬†**Service Locator**
```cpp

Class() { dep = ServiceLocator::getDep(); }

class ServiceLocator {
private:
    static IRepository* repository;
public:
    static void setRepository(IRepository* repo) { repository = repo; }
    static IRepository* getRepository() { return repository; }
};

// –í AbstractBlockWindow
void AbstractBlockWindow::showExpressEditWindow() {
    auto repo = ServiceLocator::getRepository();
    // –ò—Å–ø–æ–ª—å–∑—É–µ–º repo
}
```
**–ö–æ–≥–¥–∞:**¬†–ë—ã—Å—Ç—Ä—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (–ª–æ–≥–≥–µ—Ä, –∫–æ–Ω—Ñ–∏–≥).

## 3.¬†**–°–∏–≥–Ω–∞–ª—ã/—Å–ª–æ—Ç—ã (Qt)**
```cpp

signals: void requestData();
slots: void onDataReceived(Data);

class AbstractBlockWindow : public QWidget {
    Q_OBJECT
signals:
    void requestEquipmentData(int equipmentId);
    void requestAvailableEquipment();
    
public slots:
    void onEquipmentDataReceived(const EquipmentData& data);
    void onAvailableEquipmentReceived(const QList<Equipment>& equipment);
};

// Operation_window —Å–æ–µ–¥–∏–Ω—è–µ—Ç —Å–∏–≥–Ω–∞–ª—ã:
void Operation_window::addBlock() {
    auto block = new ConcreteBlock(this);
    connect(block, &ConcreteBlock::requestEquipmentData, 
            this, &Operation_window::onRequestEquipmentData);
    // ...
}

void Operation_window::onRequestEquipmentData(int id) {
    auto data = repository->getEquipmentData(id);
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞—Ç–Ω–æ (–Ω—É–∂–µ–Ω –º–µ—Ö–∞–Ω–∏–∑–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–∞)
}
```
**–ö–æ–≥–¥–∞:**¬†–†–∞–∑–≤—è–∑–∞–Ω–Ω—ã–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

## 4.¬†**–§–∞–±—Ä–∏–∫–∞/–ú–µ–Ω–µ–¥–∂–µ—Ä**
```cpp
dep = Manager::instance()->getDep("type");

class RepositoryManager : public QObject {
    Q_OBJECT
private:
    QMap<QString, IRepository*> repositories;
    
public:
    void registerRepository(const QString& type, IRepository* repo);
    IRepository* getRepository(const QString& type);
};

// –í –æ–∫–Ω–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ–º:
void ConcreteBlock::showExpressEditWindow() {
    auto repo = RepositoryManager::instance()->getRepository("equipment");
    // ...
}
```
**–ö–æ–≥–¥–∞:**¬†–ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π, –ø–ª–∞–≥–∏–Ω—ã, runtime-–≤—ã–±–æ—Ä.

## 5.¬†**–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è**
```cpp
Class(QWidget* parent) : parent(parent) {
    dep = qobject_cast<MainWindow*>(parent)->getDep();
}
```
**–ö–æ–≥–¥–∞:**¬†–ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ç–µ—Å–Ω–∞—è —Å–≤—è–∑—å –¥–æ–ø—É—Å—Ç–∏–º–∞.
___
## **Signal-Slot —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (Qt-—Å—Ç–∏–ª—å)**
```cpp

class ContextObject : public QObject {
    Q_OBJECT
    Q_PROPERTY(IRepository* repo READ repo WRITE setRepo NOTIFY repoChanged)
signals:
    void repoChanged(IRepository*);
};

class MyWindow : public QWidget {
    Q_OBJECT
public slots:
    void onRepoAvailable(IRepository* repo) {
        this->repo = repo;
        loadData();
    }
};
```
**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- Qt –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º UI
- –ö–æ–≥–¥–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ–∑–∂–µ

## **–ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫—É—é —Ü–µ–ø–æ—á–∫—É**
```cpp

class MyWindow : public QWidget {
protected:
    IRepository* findRepoInHierarchy() {
        QObject* obj = this;
        while (obj) {
            if (auto provider = qobject_cast<IRepositoryProvider*>(obj)) {
                return provider->getRepository();
            }
            obj = obj->parent();
        }
        return nullptr;
    }
};
```
**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –æ–∫–æ–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ö–æ–≥–¥–∞ –Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã
- –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è
## **–û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (Lazy Initialization)**
```cpp
class MyWindow : public QWidget {
    IRepository* repo = nullptr;
public:
    void initialize(IRepository* repo) {
        this->repo = repo;
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    }
};
```
## üéØ –ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä:
- **–ù–æ–≤—ã–π –∫–æ–¥**¬†‚Üí DI (1)
- **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**¬†‚Üí Service Locator (2) ‚Üí –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∫ DI
- **Qt –≤–∏–¥–∂–µ—Ç—ã**¬†‚Üí –°–∏–≥–Ω–∞–ª—ã (3)
- **–ü–ª–∞–≥–∏–Ω—ã/—Ç–∏–ø—ã**¬†‚Üí –ú–µ–Ω–µ–¥–∂–µ—Ä (4)
- **–ë—ã—Å—Ç—Ä–æ/–ø—Ä–æ—Ç–æ—Ç–∏–ø**¬†‚Üí –°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—è (5)

**–ó–æ–ª–æ—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ:**¬†–ù–∞—á–∏–Ω–∞–π —Å DI, –æ—Ç—Å—Ç—É–ø–∞–π —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤–µ—Å–∫–∏—Ö –ø—Ä–∏—á–∏–Ω–∞—Ö.